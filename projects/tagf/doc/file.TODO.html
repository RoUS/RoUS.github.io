<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: TODO
  
    &mdash; Text Adventure Framework (TAF) Gem
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "TODO";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: TODO</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'><h1>TODO list for TAGF project</h1>

<h2>Coding/concepts to investigate</h2>

<ul>
<li>Rationalise <code>ClassMethods</code>, <code>PackageClassMethods</code>, and
<code>UniversalMethods</code> — particularly with regard to the game options.</li>
<li>Finish designing YAML definition structure and language.</li>
<li>Figure out &amp; fix the (<code>Class</code>,<code>Universal</code>)<code>Methods</code>
inclusion/extension stuff.</li>
<li>Allow saving game serialised as YAML, via <code>#Marshal</code> (possibly
compressed), encrypted.</li>
<li>Importing and exporting should do the smallest granularity first, so
that the game already has things like contents declared when
defining containers.  Or not.  Maybe just build all elements and then
connect them afterward?</li>
<li>Allow for <code>#debugging?</code> to take a list of symbols; figure out
whether they should be ANDed or ORed by default.

<ul>
<li>Done (using AND by default), but there are <strong>two</strong> <code>#debugging?</code>
methods in <code>mixin/debugging.rb</code>!</li>
</ul>
</li>
<li>Work on ability to load a game from YAML.

<ul>
<li>Pass the YAML results through a syntax checker.  (Something for
the 'Thor' tool mentioned later.)</li>
<li>Perhaps <em>per</em>-class <code>import</code> class method to take a parsed element
definition and create a new instance from it?  Deeply tied to the
YAML syntax at first blush.</li>
</ul>
</li>
<li>Move detailed documentation out of <code>README</code> and into a separate
file.</li>
<li>Sort out <code>included</code> and <code>extended</code> module class methods so that
including any of the mixins will properly include all the ancestors
and set up the class methods for the invoking entity.</li>
<li>See about replacing monkey patch of <code>String</code> with a refining module.</li>
<li>Investigate inheritance of modules brought in with <code>using</code> method.</li>
<li>Add ability to have 'cloned' items (like torches) that can be
treated the same without having to manually create each one.  Maybe
a <code>tag</code> or <code>category</code> field?  And a <code>#create_{item-or-element}</code>
method to instantiate new elements in the category?</li>
<li>Add visibility/opacity to <code>Location</code> (for fog/darkness effects,
<em>&amp;c.</em>).</li>
<li>Add functionality for doors.

<ul>
<li><em>See class Path with module Mixin::Sealable</em></li>
</ul>
</li>
<li>Add functionality for locks (doors, chests, padlocks) and
keys/tokens to lock/unlock them.

<ul>
<li><em>See class Path with module Mixin::Sealable</em></li>
</ul>
</li>
<li>Levels as an alternative (or in addition) to meandering cave-like
structures.</li>
<li>Add concept of traps?

<ul>
<li>Perception-like checks for detection.</li>
<li>[Re]settable by PCs, DM, auto-reset, <em>&amp;c.</em></li>
</ul>
</li>
<li>Scriptable monster/NPC actions and reactions (think ADVENT's snake
with and without the bird).

<ul>
<li>Work on how to add scripting to [YAML?] definition file.</li>
<li>Figure out how to manage flag re/setting for stepping through
complex patterns, such as solving a combination lock.</li>
</ul>
</li>
<li>Ability to short-circuit logic paths that become unavailable (again,
think of what happens in ADVENT if you prematurely kill the bird).</li>
<li>Consumables (such as torches, ADVENT's lantern batteries, <em>&amp;c.</em>).</li>
<li>Figure out how to chain together <code>Location</code>s to provide for seamless
hallways, stairs, and other labyrinthinic structures.</li>
<li>Build <code>describe</code> method that can do as deep a dive as requested for
nested <code>Container</code>s with inventories.</li>
<li>Event processing: think about objects registering 'event listeners'.</li>
<li>Dynamic changing of edge weight for sealed paths that are unopenable
or sealed with locks; high weight unless the player possesses the
key to the seal, in which case it gets dropped.</li>
<li>Figure out a way to limit Portable items so that they can only be
obtained if the player has the right container.  Think: ADVENT bird
and birdcage.</li>
<li>Add more attitudes, such as 'afraid' for the ADVENT bird's reaction
to the rod, or why the ADVENT dwarves actively follow the player
rather than just attacking him when co-located.</li>
<li>Enhance Faction with Opinion/Regard/Reputation/Respect</li>
<li>Add a way to control path usage according to actor inventory.  One
aspect is <em>via</em> a seal like a locked door, but think ADVENT's "you
won't get it up the steps!" restriction on the gold nugget.</li>
<li>Add <code>wander</code> as a direction to allow the player to go in a random
direction.</li>
<li>Don't give new-location descriptions, and disable <code>look</code> and
friends, if the current/new location's #light_level &lt;= zero.
Combined with <code>wander</code>, this can get delightfully confusing for the
player.</li>
<li>Add light-aversion (and a maximum tolerable light-level) as a
characteristic of NPCs; think light-averse but player-seeking
wandering monsters like "grues."  If the lights go out, the grues
can actually reach the player.  Nom, nom.

<ul>
<li>TAGF::NPC#light_tolerance added, but behaviour needs to be
designed and implemented.</li>
</ul>
</li>
</ul>


<h3>Completed coding/concept items</h3>

<ul>
<li><del>Fix all references to <code>sptaf</code> and <code>TAF</code> to <code>tagf</code> and <code>TAGF</code>
respectively.</del></li>
<li><del>Abstract out all methods in the top <code>TAGF</code> module to a separate
<code>TAGF::Base</code> module; <code>TAGF</code> should be namespace only.</del></li>
<li><del>Add <code>Mixin::Container</code> and <code>Mixin::Portable</code> to YAML element
fields.</del>

<ul>
<li><em>Handled with YAML key <code>mixins: []</code></em></li>
</ul>
</li>
<li><del>Change YAML <code>sealable</code> to be an array element of <code>mixins</code>?</del>

<ul>
<li><em>Done; see previous item.  Mixins LightSource, Portable,
Graphable, and Sealable, for starters.&amp;</em></li>
</ul>
</li>
<li><del>Re-integrate <code>Mixin::Location</code> (<em>et alia</em>?) to <code>Location</code> if that's
the only actual element that reference it.</del></li>
</ul>


<h2>Tools</h2>

<ul>
<li>Build a visual graph from <code>Location</code> paths (<code>Connexions</code>)

<ul>
<li><em>Prototyped with <code>render.rb</code>, and digraph now built into the code
itself (primarily for purposes of finding shortest paths).</em></li>
</ul>
</li>
<li>Add Thor (?) generators for building (rooms, items, connexions, and
so on), verifying the locations as a graph to make sure everything
is reachable — and escapeable.

<ul>
<li>Enhance command-line tools to be able to use <code>here-docs</code> for
things like descriptions (started in <code>ui.rb</code>).</li>
</ul>
</li>
<li>Validate <code>YAML</code> file by loading it and then checking:

<ol>
<li><code>Location</code> paths that are marked <code>reversible: true</code> actually have
a <code>Connexion</code> back from the <code>:destination</code> to the <code>:origin</code>.</li>
<li><code>Connexion</code> objects' <code>:via</code> field match their key in
<code>.owned_by.paths[]</code>.</li>
<li>Everything with an <code>:owned_by</code> field should be listed in the
<code>owned_by.inventory</code> structure.</li>
<li>All <code>:seal_key</code> values in Keyword definitions themselves are
registered as keywords.</li>
<li>Keywords and alii must be unique; only one can define "e", for
instance.</li>
</ol>
</li>
</ul>


<h3>Complete tool items</h3>

<h2>Testing</h2>

<ul>
<li>Continue writing unit tests for underlying support attributes and
methods.</li>
<li>Write tests for individual objects (<code>Item</code>, <code>Location</code>, <em>&amp;c.</em></li>
<li>Finish converting ADVENT flat datafile to YAML.</li>
<li>Build test adventure based on ADVENT.

<ul>
<li>Describe fully in YAML</li>
<li>Write tests for running through Colossal Cave</li>
</ul>
</li>
</ul>


<h3>Completed testing items</h3>

<!-- Local Variables: -->


<!-- mode: markdown -->


<!-- page-delimiter: "^[[:space:]]*<!-- \\(--\\|\\+\\+\\)" -->


<!-- eval: (if (intern-soft "fci-mode") (fci-mode 1)) -->


<!-- eval: (auto-fill-mode 1) -->


<!-- End: -->

</div></div>

      <div id="footer">
  Generated on Sat Mar  2 12:52:11 2024 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.34 (ruby-3.0.5).
</div>

    </div>
  </body>
</html>