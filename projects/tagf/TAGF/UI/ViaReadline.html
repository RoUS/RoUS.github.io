<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: TAGF::UI::ViaReadline
  
    &mdash; Text Adventure Framework (TAF) Gem
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "TAGF::UI::ViaReadline";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (V)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../TAGF.html" title="TAGF (module)">TAGF</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../UI.html" title="TAGF::UI (module)">UI</a></span></span>
     &raquo; 
    <span class="title">ViaReadline</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: TAGF::UI::ViaReadline
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="InputMethod.html" title="TAGF::UI::InputMethod (class)">InputMethod</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="InputMethod.html" title="TAGF::UI::InputMethod (class)">InputMethod</a></span></li>
          
            <li class="next">TAGF::UI::ViaReadline</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/tagf/ui.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p><strong>ViaReadline</strong>
Borrow heavily from byebug's <code>history.rb</code></p>
</div>
  </div>

<p>Class defining the input method to read from a terminal using
the Readline gem.</p>


  </div>
</div>
<div class="tags">
  

</div>



  <h2>Class Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#readline_initialised-class_method" title="readline_initialised (class method)">.<strong>readline_initialised</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Flag that we've performed the one-time setup bits for the Readline library (importing the code, saving any existing history lines, <em>&amp;c.</em>).</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#saved_history-class_method" title="saved_history (class method)">.<strong>saved_history</strong>  &#x21d2; Array&lt;String&gt; </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>An array of all the lines stored in the Readline::HISTORY buffer at the point class method #initialise_readline was invoked.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize_readline-class_method" title="initialize_readline (class method)">.<strong>initialize_readline</strong>  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Require and initialise the Readline package, but keep it local to this input method.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#encoding-instance_method" title="#encoding (instance method)">#<strong>encoding</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The external encoding for standard input.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eof%3F-instance_method" title="#eof? (instance method)">#<strong>eof?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Whether the end of this input method has been reached, returns <code>true</code> if there is no more data to read.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gets-instance_method" title="#gets (instance method)">#<strong>gets</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Reads the next line from this input method.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(*args, **kwargs)  &#x21d2; ViaReadline </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a new input method object using Readline.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>For debug message.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#line-instance_method" title="#line (instance method)">#<strong>line</strong>(line_no)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the current line number for #io.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#load_history-instance_method" title="#load_history (instance method)">#<strong>load_history</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Attempt to clear the Readline::HISTORY buffer and read in new contents from the given file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#readable_after_eof%3F-instance_method" title="#readable_after_eof? (instance method)">#<strong>readable_after_eof?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Whether this input method is still readable when there is no more data to read.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#save_history-instance_method" title="#save_history (instance method)">#<strong>save_history</strong>(erase: false)  &#x21d2; Array&lt;String&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Copy the Readline::HISTORY buffer and return the array of history lines.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_history-instance_method" title="#set_history (instance method)">#<strong>set_history</strong>(histlines)  &#x21d2; Array&lt;String&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Clear the Readline::HISTORY buffer and copy saved lines from the <code>histlines</code> argument into it.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(*args, **kwargs)  &#x21d2; <tt><span class='object_link'><a href="" title="TAGF::UI::ViaReadline (class)">ViaReadline</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates a new input method object using Readline</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>args</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>([])</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>kwargs</span>
      
      
        <span class='type'>(<tt>Hash&lt;Symbol=&gt;Object&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>({})</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    <p class="tag_title">Options Hash (<tt>**kwargs</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:echo</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
        </li>
      
        <li>
          <span class="name">:transcribe</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
        </li>
      
        <li>
          <span class="name">:record</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
        </li>
      
        <li>
          <span class="name">:raise_on_eof</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
        </li>
      
        <li>
          <span class="name">:strip_leading</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
        </li>
      
        <li>
          <span class="name">:strip_trailing</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
        </li>
      
        <li>
          <span class="name">:allow_heredoc</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
        </li>
      
        <li>
          <span class="name">:in_heredoc</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
        </li>
      
        <li>
          <span class="name">:heredoc</span>
          <span class="type">(<tt><span class='object_link'><a href="HereDoc.html" title="TAGF::UI::HereDoc (class)">HereDoc</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
        </li>
      
        <li>
          <span class="name">:prompt</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>&quot;&gt; &quot;</tt>
            
          </span>
          
        </li>
      
        <li>
          <span class="name">:completion_proc</span>
          <span class="type">(<tt>Proc</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
        </li>
      
        <li>
          <span class="name">:propagate_history</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
        </li>
      
        <li>
          <span class="name">:lines</span>
          <span class="type">(<tt>Array&lt;String&gt;</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>[]</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Name (or instance) of the input method class that should be
instantiated to handle actually reading from the input source.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:inputmethod</span>
          <span class="type">(<tt><span class='object_link'><a href="InputMethod.html" title="TAGF::UI::InputMethod (class)">InputMethod</a></span></tt>, <tt>String</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
        </li>
      
        <li>
          <span class="name">:file</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
        </li>
      
        <li>
          <span class="name">:pathname</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>String to use when rendering the stream's path for human
consumption.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:context</span>
          <span class="type">(<tt><span class='object_link'><a href="Context.html" title="TAGF::UI::Context (class)">Context</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>&lt;b&gt;Ignored for Context and Interface objects&lt;/b&gt;
&lt;b&gt;REQUIRED.&lt;/b&gt;
Interface context to use.  Contains relevant details such as
the current prompt</tt>, <tt>whether to echo input</tt>, <tt>&lt;em&gt;&amp;c.&lt;/em&gt;</tt>
            
          </span>
          
            &mdash; <div class='inline'><p><b>Ignored for Context and Interface objects</b>
<b>REQUIRED.</b>
Interface context to use.  Contains relevant details such as
the current prompt, whether to echo input, <em>&amp;c.</em></p>
</div>
          
        </li>
      
        <li>
          <span class="name">:input</span>
          <span class="type">(<tt>String</tt>, <tt>IO</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>$stdin</tt>
            
          </span>
          
        </li>
      
        <li>
          <span class="name">:output</span>
          <span class="type">(<tt>String</tt>, <tt>IO</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>$stdout</tt>
            
          </span>
          
        </li>
      
        <li>
          <span class="name">:error</span>
          <span class="type">(<tt>String</tt>, <tt>IO</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>$stderr</tt>
            
          </span>
          
        </li>
      
        <li>
          <span class="name">:context</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
        </li>
      
        <li>
          <span class="name">:history_file</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
        </li>
      
    </ul>
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1307
1308
1309
1310
1311
1312
1313
1314
1315
1316
1317
1318
1319
1320
1321
1322
1323
1324
1325
1326
1327
1328
1329
1330
1331
1332
1333</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tagf/ui.rb', line 1307</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_kwargs'>kwargs</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_initialize_readline'>initialize_readline</span>
  <span class='kw'>super</span>
  <span class='kw'>if</span> <span class='lparen'>(</span><span class='const'>Readline</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:encoding_system_needs</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid___send__'>__send__</span><span class='lparen'>(</span><span class='symbol'>:set_encoding</span><span class='comma'>,</span>
                        <span class='const'>Readline</span><span class='period'>.</span><span class='id identifier rubyid_encoding_system_needs'>encoding_system_needs</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span>
                        <span class='label'>override:</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@line_no</span>	<span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@line</span>		<span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@eof</span>		<span class='op'>=</span> <span class='kw'>false</span>

<span class='embdoc_beg'>=begin
</span><span class='embdoc'>    @input	= IO.open(STDIN.to_i,
</span><span class='embdoc'>                            :external_encoding =&gt; IRB.conf[:LC_MESSAGES].encoding,
</span><span class='embdoc'>                            :internal_encoding =&gt; &#39;-&#39;)
</span><span class='embdoc'>    @output	= IO.open(STDOUT.to_i,
</span><span class='embdoc'>                            &#39;w&#39;,
</span><span class='embdoc'>                            :external_encoding =&gt; IRB.conf[:LC_MESSAGES].encoding,
</span><span class='embdoc'>                            :internal_encoding =&gt; &#39;-&#39;)
</span><span class='embdoc_end'>=end
</span>  <span class='kw'>if</span> <span class='lparen'>(</span><span class='const'>Readline</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:basic_word_break_characters=</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='const'>Readline</span><span class='period'>.</span><span class='id identifier rubyid_basic_word_break_characters'>basic_word_break_characters</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Context.html" title="TAGF::UI::Context (class)">Context</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Context.html#DEFAULT_WORD_BREAK_CHARS-constant" title="TAGF::UI::Context::DEFAULT_WORD_BREAK_CHARS (constant)">DEFAULT_WORD_BREAK_CHARS</a></span></span>
  <span class='kw'>end</span>
  <span class='const'>Readline</span><span class='period'>.</span><span class='id identifier rubyid_completion_append_character'>completion_append_character</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='const'>Readline</span><span class='period'>.</span><span class='id identifier rubyid_completion_proc'>completion_proc</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_completion_proc'>completion_proc</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="class_attr_details" class="attr_details">
    <h2>Class Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="readline_initialised-class_method">
  
    .<strong>readline_initialised</strong>  &#x21d2; <tt>Boolean</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Flag that we've performed the one-time setup bits for the
Readline library (importing the code, saving any existing
history lines, <em>&amp;c.</em>).  Stored in the eigenclass for
safety.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p><code>true</code> if the Readline library is ready for use.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1188
1189
1190</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tagf/ui.rb', line 1188</span>

<span class='kw'>def</span> <span class='id identifier rubyid_readline_initialised'>readline_initialised</span>
  <span class='ivar'>@readline_initialised</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="saved_history-class_method">
  
    .<strong>saved_history</strong>  &#x21d2; <tt>Array&lt;String&gt;</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>An array of all the lines stored in the Readline::HISTORY
buffer at the point class method #initialise_readline was
invoked.  The #restore_history class method is intended to
reverse this process.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1196
1197
1198</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tagf/ui.rb', line 1196</span>

<span class='kw'>def</span> <span class='id identifier rubyid_saved_history'>saved_history</span>
  <span class='ivar'>@saved_history</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="initialize_readline-class_method">
  
    .<strong>initialize_readline</strong>  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Require and initialise the Readline package, but keep it
local to this input method.  Also, make a copy of the
Readline::HISTORY buffer, and then clear it so it only
contains application input.</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#save_history-instance_method" title="TAGF::UI::ViaReadline#save_history (method)">#save_history</a></span></li>
    
      <li>#restore_history</li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1205
1206
1207
1208
1209
1210
1211
1212
1213
1214
1215
1216
1217
1218
1219
1220
1221
1222
1223
1224
1225
1226
1227
1228
1229
1230
1231
1232
1233
1234
1235
1236</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tagf/ui.rb', line 1205</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize_readline'>initialize_readline</span>
  <span class='kw'>if</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_readline_initialised'>readline_initialised</span><span class='rparen'>)</span>
    <span class='comment'>#
</span>    <span class='comment'># We&#39;ve already been here, done this.
</span>    <span class='comment'>#
</span>    <span class='kw'>return</span>
  <span class='kw'>end</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_warn'>warn</span><span class='lparen'>(</span><span class='id identifier rubyid_format'>format</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%s.%s requiring readline</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span>
                <span class='id identifier rubyid___method__'>__method__</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>readline</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'>LoadError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_exc'>exc</span>
    <span class='id identifier rubyid_warn'>warn</span><span class='lparen'>(</span><span class='id identifier rubyid_format'>format</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s.%s unable to load readline\n</span><span class='tstring_end'>&quot;</span></span> \
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\t%s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span>
                <span class='id identifier rubyid___method__'>__method__</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span>
                  <span class='id identifier rubyid_exc'>exc</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_include'>include</span><span class='lparen'>(</span><span class='op'>::</span><span class='const'>Readline</span><span class='rparen'>)</span>
    <span class='comment'>#
</span>    <span class='comment'>#
</span>    <span class='ivar'>@saved_history</span> <span class='op'>=</span> <span class='const'>HISTORY</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
    <span class='const'>HISTORY</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_warn'>warn</span><span class='lparen'>(</span><span class='id identifier rubyid_format'>format</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%s.%s including Readline</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span>
                <span class='id identifier rubyid___method__'>__method__</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_include'>include</span><span class='lparen'>(</span><span class='op'>::</span><span class='const'>Readline</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@realine_initialised</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>return</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="encoding-instance_method">
  
    #<strong>encoding</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>The external encoding for standard input.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1394
1395
1396</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tagf/ui.rb', line 1394</span>

<span class='kw'>def</span> <span class='id identifier rubyid_encoding'>encoding</span>
  <span class='kw'>return</span> <span class='ivar'>@context</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_external_encoding'>external_encoding</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eof?-instance_method">
  
    #<strong>eof?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Whether the end of this input method has been reached, returns
<code>true</code> if there is no more data to read.</p>

<p>See IO#eof? for more information.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1372
1373
1374</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tagf/ui.rb', line 1372</span>

<span class='kw'>def</span> <span class='id identifier rubyid_eof?'>eof?</span>
  <span class='kw'>return</span> <span class='cvar'>@@eof</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="gets-instance_method">
  
    #<strong>gets</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Reads the next line from this input method.</p>

<p>See IO#gets for more information.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1338
1339
1340
1341
1342
1343
1344
1345
1346
1347
1348
1349
1350
1351
1352
1353
1354
1355
1356
1357
1358
1359
1360
1361
1362
1363
1364
1365</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tagf/ui.rb', line 1338</span>

<span class='kw'>def</span> <span class='id identifier rubyid_gets'>gets</span>
  <span class='const'>Readline</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span>	<span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span>
  <span class='const'>Readline</span><span class='period'>.</span><span class='id identifier rubyid_output'>output</span>	<span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_output'>output</span>
  <span class='ivar'>@ttychars</span>	<span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@ttychars</span>	<span class='op'>=</span> <span class='backtick'>`</span><span class='tstring_content'>stty -g</span><span class='tstring_end'>`</span></span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span> <span class='kw'>if</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_tty?'>tty?</span><span class='rparen'>)</span>
  <span class='kw'>begin</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_l'>l</span> <span class='op'>=</span> <span class='id identifier rubyid_readline'>readline</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_prompt'>prompt</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='const'>HISTORY</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_l'>l</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='lparen'>(</span><span class='id identifier rubyid_l'>l</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span><span class='rparen'>)</span>
      <span class='ivar'>@line</span><span class='lbracket'>[</span><span class='ivar'>@line_no</span> <span class='op'>+=</span> <span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_l'>l</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='ivar'>@eof</span>	<span class='op'>=</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_l'>l</span>
    <span class='kw'>end</span>
  <span class='kw'>rescue</span> <span class='const'>Interrupt</span>
    <span class='comment'>#
</span>    <span class='comment'># Restore the terminal settings if any were saved.
</span>    <span class='comment'>#
</span>    <span class='kw'>if</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_tty?'>tty?</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='ivar'>@ttychars</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>!=</span> <span class='int'>0</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_system'>system</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stty</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='ivar'>@ttychars</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_handle_interrupt'>handle_interrupt</span>
    <span class='comment'>#
</span>    <span class='comment'># Re-raise the Interrupt exception so anything in our call
</span>    <span class='comment'># tree wants to deal with it.
</span>    <span class='comment'>#
</span>    <span class='id identifier rubyid_raise'>raise</span>
  <span class='kw'>end</span>                     <span class='comment'># rescue block for CTRL/C
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inspect-instance_method">
  
    #<strong>inspect</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>For debug message</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1399
1400
1401
1402
1403
1404
1405
1406
1407
1408
1409
1410
1411
1412
1413</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tagf/ui.rb', line 1399</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span>
  <span class='id identifier rubyid_readline_impl'>readline_impl</span>	<span class='op'>=</span> <span class='lparen'>(</span><span class='kw'>defined?</span><span class='lparen'>(</span><span class='const'>Reline</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='const'>Readline</span> <span class='op'>==</span> <span class='const'>Reline</span><span class='rparen'>)</span> \
                    <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Reline</span><span class='tstring_end'>&#39;</span></span> \
                    <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ext/readline</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_str'>str</span>		<span class='op'>=</span> <span class='id identifier rubyid_format'>format</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>InputMethod:%s with %s %s</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                           <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>^.*::</span><span class='regexp_end'>!</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
                           <span class='id identifier rubyid_readline_impl'>readline_impl</span><span class='comma'>,</span>
                           <span class='const'>Readline</span><span class='op'>::</span><span class='const'>VERSION</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_inputrc_path'>inputrc_path</span>	<span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span><span class='lparen'>(</span><span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>INPUTRC</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> \
                                     <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>~/.inputrc</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_inputrc_path'>inputrc_path</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_str'>str</span>		<span class='op'>+=</span> <span class='id identifier rubyid_format'>format</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> and %s</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_inputrc_path'>inputrc_path</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_str'>str</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="line-instance_method">
  
    #<strong>line</strong>(line_no)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the current line number for #io.</p>

<h1>line counts the number of times #gets is called.</h1>

<p>See IO#lineno for more information.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1389
1390
1391</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tagf/ui.rb', line 1389</span>

<span class='kw'>def</span> <span class='id identifier rubyid_line'>line</span><span class='lparen'>(</span><span class='id identifier rubyid_line_no'>line_no</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='ivar'>@line</span><span class='lbracket'>[</span><span class='id identifier rubyid_line_no'>line_no</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="load_history-instance_method">
  
    #<strong>load_history</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Attempt to clear the Readline::HISTORY buffer and read in
new contents from the given file.  If the file cannot be
read, a warning is displayed and Readline::HISTORY is
unaffected.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1266
1267
1268
1269
1270
1271
1272
1273
1274
1275
1276
1277</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tagf/ui.rb', line 1266</span>

<span class='kw'>def</span> <span class='id identifier rubyid_load_history'>load_history</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_hlines'>hlines</span>		<span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_hlines'>hlines</span>	<span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>r</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_readlines'>readlines</span>
  <span class='kw'>rescue</span> <span class='const'>StandardError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_exc'>exc</span>
    <span class='id identifier rubyid_raise_exception'>raise_exception</span><span class='lparen'>(</span><span class='const'>BadHistoryFile</span><span class='comma'>,</span>
                    <span class='label'>file:</span>		<span class='id identifier rubyid_file'>file</span><span class='comma'>,</span>
                    <span class='label'>exception:</span>	<span class='id identifier rubyid_exc'>exc</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='const'>Readline</span><span class='op'>::</span><span class='const'>HISTORY</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_set_history'>set_history</span><span class='lparen'>(</span><span class='id identifier rubyid_hlines'>hlines</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="readable_after_eof?-instance_method">
  
    #<strong>readable_after_eof?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Whether this input method is still readable when there is no
more data to read.</p>

<p>See IO#eof for more information.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1380
1381
1382</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tagf/ui.rb', line 1380</span>

<span class='kw'>def</span> <span class='id identifier rubyid_readable_after_eof?'>readable_after_eof?</span>
  <span class='kw'>return</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="save_history-instance_method">
  
    #<strong>save_history</strong>(erase: false)  &#x21d2; <tt>Array&lt;String&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Copy the Readline::HISTORY buffer and return the array of
history lines.  Can optionally erase the Readline::HISTORY
buffer after making the copy, depending upon the value of
the <code>erase</code> argument.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>erase</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>(false)
Controls whether or not the Readline::HISTORY buffer is
cleared after all the lines have been copied from it.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>list of lines from the Readline::HISTORY buffer.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1252
1253
1254
1255
1256
1257
1258
1259</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tagf/ui.rb', line 1252</span>

<span class='kw'>def</span> <span class='id identifier rubyid_save_history'>save_history</span><span class='lparen'>(</span><span class='label'>erase:</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_saved_history'>saved_history</span>	<span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='const'>Readline</span><span class='op'>::</span><span class='const'>HISTORY</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
    <span class='id identifier rubyid_saved_history'>saved_history</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_line'>line</span>
  <span class='kw'>end</span>
  <span class='const'>Readline</span><span class='op'>::</span><span class='const'>HISTORY</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span> <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_erase'>erase</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_saved_history'>saved_history</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_history-instance_method">
  
    #<strong>set_history</strong>(histlines)  &#x21d2; <tt>Array&lt;String&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Clear the Readline::HISTORY buffer and copy saved lines from
the <code>histlines</code> argument into it.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>histlines</span>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the new history contents.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if <code>histlines</code> isn't an array of Strings</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1288
1289
1290
1291
1292
1293
1294
1295
1296
1297
1298
1299
1300
1301</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tagf/ui.rb', line 1288</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_history'>set_history</span><span class='lparen'>(</span><span class='id identifier rubyid_histlines'>histlines</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='lparen'>(</span><span class='id identifier rubyid_histlines'>histlines</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span> \
          <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_histlines'>histlines</span><span class='period'>.</span><span class='id identifier rubyid_all?'>all?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise_error'>raise_error</span><span class='lparen'>(</span><span class='const'>ArgumentError</span><span class='comma'>,</span>
                <span class='id identifier rubyid_format'>format</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%s.%s requires an array of strings</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                       <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span>
                       <span class='id identifier rubyid___method__'>__method__</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='const'>Readline</span><span class='op'>::</span><span class='const'>HISTORY</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
  <span class='id identifier rubyid_histlines'>histlines</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
    <span class='const'>Readline</span><span class='op'>::</span><span class='const'>HISTORY</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_line'>line</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='const'>Readline</span><span class='op'>::</span><span class='const'>HISTORY</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sat Mar  2 12:52:27 2024 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.34 (ruby-3.0.5).
</div>

    </div>
  </body>
</html>